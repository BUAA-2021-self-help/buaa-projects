# Chapter05: The Transport Layer

> 20%

## Key Points

- TCP协议的**特点**、报文段结构、**可靠传输**
- TCP的**三次握手**和**四次挥手**
- TCP的**拥塞控制**过程
- UDP的特点和传输方式
- 端口和套接字的基本概念

## Basics

### 进程之间的通信

> page 203

- 网络层为主机之间提供逻辑通信，而运输层为应用进程之间提供端到端的逻辑通信。
- TCP(面向连接) & UDP(无连接)
- 运输层向高层用户屏蔽了下面网络核心的细节，它使应用进程看见的就是好像在两个运输层实体之间有一条端到端的逻辑通信信道。

### 端口&套接字

> page 206

- 服务器端使用的端口号
  - 熟知端口号
  - 登记端口号
- 客户端使用的端口号
  - 仅在客户进程运行时才动态选择，又称“短暂端口号”

> page 212 //TODO

## UDP

### 特点

- 无连接的，即发送数据之前不需要建立连接
- 尽最大努力交付
- 面向报文（对应用层交下来的报文，保留这些报文的边界，不拆分或合并）
- 没有拥塞控制
- 支持一对一、一对多、多对一和多对多的交互通信
- 首部开销小，仅8字节

### 首部格式

- 源端口
- 目的端口
- 长度（最小是8，仅首部）
- 检验和

在校验时，引入“伪首部”（包含源IP地址、目的IP地址、UDP长度）

## TCP

### 特点

### 报文段结构

### 可靠传输

### 流量控制

### 拥塞控制

### 运输连接管理
